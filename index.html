<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>National Meteorological Library VR Experience</title>
    <meta name="description" content="Informatics Lab 360&deg; Image Gallery">
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
    <script src="https://npmcdn.com/aframe-animation-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-event-set-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-layout-component@3.0.1"></script>
    <script src="https://npmcdn.com/aframe-template-component@3.1.1"></script>
    <script src="components/emit-on-click.js"></script>
  </head>

  <body>
    <a-scene>

      <a-assets>
        <img id="lib-360-background" src="images/lib-background.JPG">
        <img id="d-day-chart-image" src="images/d-day-chart.jpg">
        <img id="fitzroy-portrait-image" src="images/fitzroy-portrait.jpg">
        <img id="fitzroy-clock-image" src="images/fitzroy-clock.jpg">
        <img id="HMS-beagle-image" src="images/HMS-beagle.jpg">
        <img id="obs-instruments-image1" src="images/obs-instruments-1.jpg">
        <img id="obs-instruments-image2" src="images/obs-instruments-2.jpg">
        <img id="obs-instruments-image3" src="images/obs-instruments-3.jpg">
        <img id="obs-instruments-image4" src="images/obs-instruments-4.jpg">
        <img id="archives-display-image" src="images/weather-lore.jpg">
        <img id="uniform-image" src="images/suit.jpg">
        <img id="close-button" src="images/close-button.svg">
        <img id="POI-marker-icon" src="images/POI-marker-icon.png">
      </a-assets>
      <!-- 360 background -->
      <a-sky id="image-360" radius="100" src="#lib-360-background" rotation="0 -20 0"></a-sky>

      <!-- POI MARKERS -->
      <!-- Fitzroy Portrait -->
      <a-image id="fitzroy-POI-marker" src="#POI-marker-icon"
        position="10 3 -10"
        rotation="0 -45 0"
        height="1.5"
        width="1.5"
        emit-on-click="emit: fitzroy-POI-panel-open; target: #fitzroy-POI-panel">
      </a-image>
      <!-- HMS Beagle Model -->
      <a-image id="beagle-POI-marker" src="#POI-marker-icon"
        position="3 2.5 -10"
        rotation="0 0 0"
        height="1.5"
        width="1.5"
        emit-on-click="emit: beagle-POI-panel-open; target: #beagle-POI-panel">
      </a-image>
      <!-- Display case 1 -->
      <a-image id="instruments-POI-marker-1" src="#POI-marker-icon"
        position="5.5 -3 6"
        rotation="0 90 0"
        emit-on-click="emit: instruments-POI-panel-1-open; target: #instruments-POI-panel-1">
      </a-image>
      <!-- Display case 2 -->
      <a-image id="instruments-POI-marker-2" src="#POI-marker-icon"
        position="-5 -3 2.5"
        rotation="0 90 0"
        emit-on-click="emit: instruments-POI-panel-2-open; target: #instruments-POI-panel-2">
      </a-image>
      <!-- D-day weather chart -->
      <a-image id="weather-chart-POI-marker" src="#POI-marker-icon"
        position="-6.4 3 -10"
        height="1.5"
        width="1.5"
        emit-on-click="emit: weather-chart-POI-panel-open; target: #weather-chart-POI-panel">
      </a-image>
      <!-- Air Observer Uniform -->
      <a-image id="uniform-POI-marker" src="#POI-marker-icon"
        position="-13 7 -10"
        rotation="0 45 0"
        height="1.5"
        width="1.5"
        emit-on-click="emit: uniform-POI-panel-open; target: #uniform-POI-panel">
      </a-image>
      <!-- Archives Display Case -->
      <a-image id="archives-case-POI-marker" src="#POI-marker-icon"
        position="-15 1 -1"
        rotation="0 -90 0"
        height="1.5"
        width="1.5"
        emit-on-click="emit: archives-case-POI-panel-open; target: #archives-case-POI-panel">
      </a-image>

      <!-- POI PANELS -->
      <!-- Fitzroy Portrait -->
      <a-entity id="fitzroy-POI-panel" visible="false"
        position="4 1.5 -4"
        rotation="20 -45 0"
        animation__show="property: visible; startEvents: fitzroy-POI-panel-open; to: true"
        animation__hide="property: visible; startEvents: fitzroy-POI-panel-close; from: false; to: true; dir: reverse">
        <a-image src=#fitzroy-portrait-image
          height="3.75"
          width="3">
        </a-image>
        <a-image src="#close-button"
          width="0.5"
          height="0.5"
          position="1 1.4 0.1"
          emit-on-click="emit: fitzroy-POI-panel-close; target: #fitzroy-POI-panel">
        </a-image>
      </a-entity>
      <!-- HMS Beagle Model -->
      <a-entity id="beagle-POI-panel" visible="false"
        position="1.3 1.5 -4"
        rotation="10 -15 0"
        animation__show="property: visible; startEvents: beagle-POI-panel-open; to: true"
        animation__hide="property: visible; startEvents: beagle-POI-panel-close; from: false; to: true; dir: reverse">
        <a-image src=#HMS-beagle-image
          height="3.75"
          width="3">
        </a-image>
        <a-image src="#close-button"
          width="0.5"
          height="0.5"
          position="1 1.4 0.1"
          emit-on-click="emit: beagle-POI-panel-close; target: #beagle-POI-panel">
        </a-image>
      </a-entity>
      <!-- Display case 1 -->
      <a-entity id="instruments-POI-panel-1" visible="false"
        position="4 0 2"
        rotation="0 70 0"
        animation__show="property: visible; startEvents: instruments-POI-panel-1-open; to: true"
        animation__hide="property: visible; startEvents: instruments-POI-panel-1-close; from: false; to: true; dir: reverse">
        <a-image src="#obs-instruments-image1"
          height="3"
          width="6">
        </a-image>
        <a-image src="#close-button"
          position="-2 1 -0.5"
          width="0.5"
          height="0.5"
          emit-on-click="emit: instruments-POI-panel-1-close; target: #instruments-POI-panel-1">
        </a-image>
      </a-entity>
      <!-- Display case 2 -->
      <a-entity id="instruments-POI-panel-2" visible="false"
        position="-4 0 2"
        rotation="0 110 0"
        animation__show="property: visible; startEvents: instruments-POI-panel-2-open; to: true"
        animation__hide="property: visible; startEvents: instruments-POI-panel-2-close; from: false; to: true; dir: reverse">
        <a-image src="#obs-instruments-image3"
          height="3"
          width="6">
        </a-image>
        <a-image src="#close-button"
          position="2 1 0.5"
          width="0.5"
          height="0.5"
          emit-on-click="emit: instruments-POI-panel-2-close; target: #instruments-POI-panel-2">
        </a-image>
      </a-entity>
      <!-- D-day weather chart -->
      <a-entity id="weather-chart-POI-panel" visible="false"
        position="-4 2.5 -5"
        rotation="10 35 0"
        animation__show="property: visible; startEvents: weather-chart-POI-panel-open; to: true"
        animation__hide="property: visible; startEvents: weather-chart-POI-panel-close; from: false; to: true; dir: reverse">
        <a-image src=#d-day-chart-image
          height="6"
          width="10">
        </a-image>
        <a-image src="#close-button"
          width="0.5"
          height="0.5"
          position="4.5 2.5 0.1"
          emit-on-click="emit: weather-chart-POI-panel-close; target: #weather-chart-POI-panel">
        </a-image>
      </a-entity>
      <!-- Air Observer Uniform -->
      <a-entity id="uniform-POI-panel" visible="false"
        position="-8 0 -5"
        rotation="0 50 0"
        animation__show="property: visible; startEvents: uniform-POI-panel-open; to: true"
        animation__hide="property: visible; startEvents: uniform-POI-panel-close; from: false; to: true; dir: reverse">
        <a-image src=#uniform-image
          height="4"
          width="8"
          rotation="0 0 -90">
        </a-image>
        <a-image src="#close-button"
          width="0.5"
          height="0.5"
          position="1.5 3.5 0.1"
          emit-on-click="emit: uniform-POI-panel-close; target: #uniform-POI-panel">
        </a-image>
      </a-entity>
      <!-- Archives display case -->
      <a-entity id="archives-case-POI-panel" visible="false"
        position="-5 0 0"
        rotation="0 90 0"
        animation__show="property: visible; startEvents: archives-case-POI-panel-open; to: true"
        animation__hide="property: visible; startEvents: archives-case-POI-panel-close; from: false; to: true; dir: reverse">
        <a-image src="#archives-display-image"
          width="8.2"
          height="4.6">
        </a-image>
        <a-image src="#close-button"
          width="0.5"
          height="0.5"
          position="3.5 2 0.1"
          emit-on-click="emit: archives-case-POI-panel-close; target: #archives-case-POI-panel">
        </a-image>
      </a-entity>

      <!-- Camera + cursor. -->
      <a-entity camera look-controls>
        <a-cursor id="cursor"
          animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150"
          animation__fusing="property: fusing; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 1500"
          event-set__1="_event: mouseenter; color: #b9dc0c"
          event-set__2="_event: mouseleave; color: black"
          fuse="true"></a-cursor>
      </a-entity>

    </a-scene>
  </body>
